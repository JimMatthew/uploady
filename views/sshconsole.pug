
doctype html
html
  head
    title SSH Console
    link(rel="stylesheet" href="/style.css") 
    link(rel="stylesheet" href="https://unpkg.com/xterm/css/xterm.css")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.js")
    script(src="https://unpkg.com/xterm/lib/xterm.js")
    script.
        const serverId = "#{serverId}";
        
        document.addEventListener('DOMContentLoaded', () => {
            
            const socket = io()
            const term = new Terminal({
                rows: 40,
                cols: 120,
                cursorBlink: true,
                theme: {
                background: '#1e1e1e'
                }
        })
        term.open(document.getElementById('terminal'))
        socket.emit('startSession', { serverId })

        term.onData(data => {
          socket.emit('input', data)
        })

        socket.on('output', data => {
          term.write(data)
        })
      })
  body
    h1 SSH Console
    p 
    a(href="/sftp") Back to SFTP Browser    
    div#terminal(style="width: 80%; height: 500px; text-align: left;")

     